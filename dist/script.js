"use strict";var lettersPattern=/[ñA-Za-z]/,currentGuessCount=1,currentGuess=document.querySelector("#guess"+currentGuessCount),words=["tinta","abeja","acoso","caliz","calvo","oruga","hueso","zurdo","busto","queso","guiño"],solution=words[Math.floor(Math.random()*words.length)],gameDone=!1,updateCurrentGuess=function(){currentGuessCount++,checkWin(),currentGuess=document.querySelector("#guess"+currentGuessCount)};document.querySelectorAll("button").forEach((function(e){e.addEventListener("click",(function(t){gameDone&&t.currentTarget.removeEventListener(t.type,e);var s=t.target.innerText.toLowerCase();if(1==s.length&&lettersPattern.test(s)&&currentGuess.dataset.letters.length<5)updateLetters(s);else if("del"==s&&""!=currentGuess.dataset.letters)deleteFromLetters();else if("enter"==s&&5==currentGuess.dataset.letters.length){for(var r=function(e){setTimeout((function(){compareLetters(e)}),300*e)},n=0;n<5;n++)r(n);setTimeout((function(){updateCurrentGuess()}),1600)}}))})),document.addEventListener("keydown",(function(e){gameDone&&e.currentTarget.removeEventListener(e.type);var t=e.key;if(1==t.length&&lettersPattern.test(e.key)&&currentGuess.dataset.letters.length<5)updateLetters(t);else if("Backspace"==e.key&&""!=currentGuess.dataset.letters)deleteFromLetters();else if("Enter"==e.key&&lettersPattern.test(e.key)&&5==currentGuess.dataset.letters.length){for(var s=function(e){setTimeout((function(){compareLetters(e)}),300*e)},r=0;r<5;r++)s(r);setTimeout((function(){updateCurrentGuess()}),1600)}}));var checkWin=function(){solution==currentGuess.dataset.letters?(alert("GANASTEEEEEEEE!"),gameDone=!0):7==currentGuessCount&&alert("La respuesta era: "+solution)},compareLetters=function(e){var t=currentGuess.dataset.letters.charAt([e]),s=solution.charAt(e),r=currentGuess.querySelector("#guessTile"+(e+1)),n=document.getElementById(t).innerText;r.classList.remove("blink"),r.classList.add("flip-in"),s==t?(setTimeout((function(){r.classList.add("correct")}),250),n==t.toUpperCase()&&document.getElementById(t).classList.add("correct")):solution.includes(t)?setTimeout((function(){r.classList.add("present")}),250):(setTimeout((function(){r.classList.add("absent")}),250),n==t.toUpperCase()&&document.getElementById(t).classList.add("absent")),r.classList.remove("flip-in"),setTimeout((function(){r.classList.add("flip-out")}),250),r.classList.remove("flip-out")},updateLetters=function(e){var t=currentGuess.dataset.letters+e,s=t.length;currentGuess.dataset.letters=t,updateTiles(s,e)},updateTiles=function(e,t){var s=currentGuess.querySelector("#guessTile"+e);s.dataset.letter=t,s.innerText=t,s.classList.add("blink"),s.classList.add("has-letter")},deleteFromLetters=function(){var e=currentGuess.dataset.letters,t=e.slice(0,-1);currentGuess.dataset.letters=t,deleteFromTiles(e.length)},deleteFromTiles=function(e){var t=currentGuess.querySelector("#guessTile"+e);t.innerText="",t.dataset.letter="",t.classList.remove("blink"),t.classList.remove("has-letter")};
//# sourceMappingURL=script.js.map